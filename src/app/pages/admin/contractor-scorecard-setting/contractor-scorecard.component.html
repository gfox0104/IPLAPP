<div class="container-fluid mt-2" [ngClass]="{ 'HelpCursor': isHelpActive }" >
  <div class="">
    <div class="">
      <form [formGroup]="formUsrCommonGroup" (ngSubmit)="FormButton()">
        <h3 class="module-box-header mb-0">Contractor Scorecard Settings
          <a class="pull-right mr-2" data-toggle="tooltip" (click)="SetHelpFlag()" data-placement="top"
          title="Item Help" style="cursor: pointer;">Need Help
          <i class="fas fa-question"></i>&nbsp;&nbsp;
          </a>
        </h3>
        <div class="row m-0 module-subheader p-1 pl-2">
          <h4 >Scorecard Weight</h4>
          <div class="row ml-2 p-1">

            <div>
              <a *ngIf="IsEditDisable" (click)="EditForms()" id="client_viewdetail_1" class="btn btn-primary"> <i
                  class="far fa-edit mr-1"></i> Edit </a>
              <button type="submit" *ngIf="!IsEditDisable" id="client_viewdetail_1" class="btn btn-primary "
                [disabled]="isLoading">
                <i class="fa" [ngClass]="{'fa-spin fa-spinner': isLoading, 'fa-save': !isLoading}"></i>
                {{button}}</button>
              &nbsp;&nbsp;&nbsp;
              <a [routerLink]="['/home/workordersettings']" class="btn btn-primary waves-effect waves-light">
                Back</a>
            </div>
          </div>
        </div>
        <div class="row m-0 module-box p-1">
            <div class="col-md-6 col-sm-6 col-lg-6 col-12">
              <div class=" row">
                <div class="col-4">
                  <label>CreatedBy</label>
                </div>
                <div class="col-3">
                  <label >{{ContractorScoreCardSettingModelObj.Con_score_setting_CreatedBy}} </label>
                </div>

              </div><br>
              <div class=" row">
                <div class="col-4">
                  <label>Updated By</label>
                </div>
                <div class="col-3">
                  <label >{{ContractorScoreCardSettingModelObj.Con_score_setting_ModifiedBy}} </label>
                </div>

              </div><br>
              <div class=" row">
                <div class="col-4">
                  <label  [ngClass]="{ 'HelpCursor': isHelpActive }" (click)="DispalyInfo($event,'Picture quality')">Picture quality</label>
                </div>
                <div class="col-3">
                  <input type="text" class="form-control form-control-sm" (keypress)="validate($event)"
                    (blur)="onpicturequantityChange()"
                    [(ngModel)]="ContractorScoreCardSettingModelObj.Con_score_setting_picturequality"
                    [ngModelOptions]="{standalone: true}" numbersOnly (click)="DispalyInfo($event,'Picture quality')"[readonly]="isHelpActive" [ngClass]="{ 'HelpCursor': isHelpActive }">
                </div>

              </div><br>
              <div class=" row">
                <div class="col-4">
                  <label [ngClass]="{ 'HelpCursor': isHelpActive }" (click)="DispalyInfo($event,'Followed Instruction')">Followed Instruction</label>
                </div>
                <div class="col-3">
                  <input type="text" class="form-control form-control-sm" (keypress)="validate($event)"
                    (blur)="onpicturequantityChange()"
                    [(ngModel)]="ContractorScoreCardSettingModelObj.Con_score_setting_follow_inst"
                    [ngModelOptions]="{standalone: true}" numbersOnly (click)="DispalyInfo($event,'Followed Instruction')"[readonly]="isHelpActive" [ngClass]="{ 'HelpCursor': isHelpActive }">
                </div>

              </div><br>
              <div class=" row">
                <div class="col-4">
                  <label [ngClass]="{ 'HelpCursor': isHelpActive }" (click)="DispalyInfo($event,'Work Quality')">Work Quality</label>
                </div>
                <div class="col-3">
                  <input type="text" class="form-control form-control-sm" (keypress)="validate($event)"
                    (blur)="onpicturequantityChange()"
                    [(ngModel)]="ContractorScoreCardSettingModelObj.Con_score_setting_workquality"
                    [ngModelOptions]="{standalone: true}" numbersOnly (click)="DispalyInfo($event,'Work Quality')"[readonly]="isHelpActive" [ngClass]="{ 'HelpCursor': isHelpActive }">
                </div>

              </div><br>
              <div class=" row">
                <div class="col-4">
                  <label [ngClass]="{ 'HelpCursor': isHelpActive }" (click)="DispalyInfo($event,'Due Date')">Due Date</label>
                </div>
                <div class="col-3">
                  <input type="text" class="form-control form-control-sm" (keypress)="validate($event)"
                    (blur)="onpicturequantityChange()"
                    [(ngModel)]="ContractorScoreCardSettingModelObj.Con_score_setting_duadate"
                    [ngModelOptions]="{standalone: true}" numbersOnly (click)="DispalyInfo($event,'Due Date')"[readonly]="isHelpActive" [ngClass]="{ 'HelpCursor': isHelpActive }">
                </div>

              </div><br>
              <div class=" row">
                <div class="col-4">
                  <label [ngClass]="{ 'HelpCursor': isHelpActive }" (click)="DispalyInfo($event,'Est. Date')">Est. Date</label>
                </div>
                <div class="col-3">
                  <input type="text" class="form-control form-control-sm" (keypress)="validate($event)"
                    (blur)="onpicturequantityChange()"
                    [(ngModel)]="ContractorScoreCardSettingModelObj.Con_score_setting_estdate"
                    [ngModelOptions]="{standalone: true}" numbersOnly (click)="DispalyInfo($event,'Est. Date')"[readonly]="isHelpActive" [ngClass]="{ 'HelpCursor': isHelpActive }">
                </div>

              </div><br>
              <div class=" row">
                <div class="col-4">
                  <label [ngClass]="{ 'HelpCursor': isHelpActive }" (click)="DispalyInfo($event,'Total weight')">Total weight</label>
                </div>
                <div class="col-3">
                  <input type="text" class="form-control form-control-sm"
                    [(ngModel)]="ContractorScoreCardSettingModelObj.Con_score_setting_total"
                    [ngModelOptions]="{standalone: true}" numbersOnly (click)="DispalyInfo($event,'Total weight')"[readonly]="isHelpActive" [ngClass]="{ 'HelpCursor': isHelpActive }">
                </div>
                <div class="col-5">
                  <span *ngIf='!errormsg' style="color: red;">(Total weight must equal 100)</span>
                  <span style="color: red;">{{errormsg}}</span>
                </div>

              </div><br>


            </div>
            <div class="col-md-6 col-sm-6 col-lg-6 col-12">
              <div class="row">
                <h4>Penalty Orders Weighting</h4>
              </div>
              <div class="row">
                <span style="color: red;">(The lower the number the more of a penalty)</span>
              </div><br>
              <div class=" row">
                <div class="col-4">
                  <label [ngClass]="{ 'HelpCursor': isHelpActive }" (click)="DispalyInfo($event,'Info Needed')">Info Needed</label>
                </div>
                <div class="col-3">
                  <input type="text" class="form-control form-control-sm"
                    [(ngModel)]="ContractorScoreCardSettingModelObj.Con_score_setting_Info_needed"
                    (keypress)='validate($event)' (blur)="onkyepressneeded()" [ngModelOptions]="{standalone: true}"
                    numbersOnly (click)="DispalyInfo($event,'Info Needed')"[readonly]="isHelpActive" [ngClass]="{ 'HelpCursor': isHelpActive }">
                </div>
                <div class="col-3"> <span style="color: red;">{{info}}</span></div>
              </div><br>
              <div class=" row">
                <div class="col-4">
                  <label [ngClass]="{ 'HelpCursor': isHelpActive }" (click)="DispalyInfo($event,'Return to property')">Return to property</label>
                </div>
                <div class="col-3">
                  <input type="text" class="form-control form-control-sm"
                    [(ngModel)]="ContractorScoreCardSettingModelObj.Con_score_setting_retern_property"
                    (keypress)='validate($event)' (blur)="onkyepressproperty()" [ngModelOptions]="{standalone: true}"
                    numbersOnly (click)="DispalyInfo($event,'Return to property')"[readonly]="isHelpActive" [ngClass]="{ 'HelpCursor': isHelpActive }">
                </div>
                <div class="col-3"> <span style="color: red;">{{property}}</span></div>
              </div><br>
              <div class=" row">
                <div class="col-4">
                  <label [ngClass]="{ 'HelpCursor': isHelpActive }" (click)="DispalyInfo($event,'Escalated penalty')">Escalated penalty</label>
                </div>
                <div class="col-3">
                  <input type="text" class="form-control form-control-sm"
                    [(ngModel)]="ContractorScoreCardSettingModelObj.Con_score_setting_escalated_penalty"
                    (keypress)='validate($event)' (blur)="onkyepressnumberEscalated_penalty()" [ngModelOptions]="{standalone: true}"
                    numbersOnly (click)="DispalyInfo($event,'Escalated penalty')"[readonly]="isHelpActive" [ngClass]="{ 'HelpCursor': isHelpActive }">
                </div>
                <div class="col-3"> <span style="color: red;">{{escalated_penalty}}</span></div>
              </div><br>

                <h4>Report Frequency</h4><br>

              <div class=" row">
                <div class="col-md-4 col-sm-4 col-12">
                  <label [ngClass]="{ 'HelpCursor': isHelpActive }" (click)="DispalyInfo($event,'Score orders processed in last')">Score orders processed in last</label>
                </div>
                <div class="col-md-2 col-sm-2 col-6">
                  <input type="text" class="form-control form-control-sm" minlength="15" maxlength="90"
                    [(ngModel)]="ContractorScoreCardSettingModelObj.Con_score_setting_number_day"
                    (keypress)='validate($event)' (blur)="onkyepressnumberday()" [ngModelOptions]="{standalone: true}"
                    numbersOnly (click)="DispalyInfo($event,'Score orders processed in last')"[readonly]="isHelpActive" [ngClass]="{ 'HelpCursor': isHelpActive }">
                </div>
                <div class="col-md-1 col-sm-1 col-2">days</div>
                <div class="col-3"> <span style="color: red;">{{day}}</span></div>
              </div><br>
            </div>
            <div class="row m-0 p-1">

              <div>
                <a *ngIf="IsEditDisable" (click)="EditForms()" id="client_viewdetail_1" class="btn btn-primary"> <i
                    class="far fa-edit mr-1"></i> Edit </a>
                <button type="submit" *ngIf="!IsEditDisable" id="client_viewdetail_1" class="btn btn-primary "
                  [disabled]="isLoading">
                  <i class="fa" [ngClass]="{'fa-spin fa-spinner': isLoading, 'fa-save': !isLoading}"></i>
                  {{button}}</button>
                &nbsp;&nbsp;&nbsp;
                <a [routerLink]="['/home/adminlinkpage']" class="btn btn-primary waves-effect waves-light">
                  Back</a>
              </div>
            </div>
          </div><br>
      </form>
    </div>
  </div>
</div>
